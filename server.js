const _0x23e741=_0x3c0d;(function(_0x1c18c3,_0xe57dfc){const _0x34edbe=_0x3c0d,_0x48f50f=_0x1c18c3();while(!![]){try{const _0x4a5365=parseInt(_0x34edbe(0x1f1))/0x1+-parseInt(_0x34edbe(0x216))/0x2*(parseInt(_0x34edbe(0x1e2))/0x3)+-parseInt(_0x34edbe(0x1ce))/0x4+parseInt(_0x34edbe(0x1c2))/0x5*(-parseInt(_0x34edbe(0x1ed))/0x6)+-parseInt(_0x34edbe(0x218))/0x7+-parseInt(_0x34edbe(0x1d6))/0x8*(parseInt(_0x34edbe(0x1fd))/0x9)+parseInt(_0x34edbe(0x1d8))/0xa;if(_0x4a5365===_0xe57dfc)break;else _0x48f50f['push'](_0x48f50f['shift']());}catch(_0x52b277){_0x48f50f['push'](_0x48f50f['shift']());}}}(_0x12b8,0xc0c4b));const _0x2dfbb2=(function(){let _0x1224f1=!![];return function(_0x19b424,_0x53e942){const _0x7e0e4=_0x1224f1?function(){const _0x1b5f47=_0x3c0d;if(_0x53e942){const _0x310b3d=_0x53e942[_0x1b5f47(0x1c4)](_0x19b424,arguments);return _0x53e942=null,_0x310b3d;}}:function(){};return _0x1224f1=![],_0x7e0e4;};}()),_0x2930cb=_0x2dfbb2(this,function(){const _0xc657a0=_0x3c0d;return _0x2930cb[_0xc657a0(0x1da)]()[_0xc657a0(0x205)](_0xc657a0(0x21b))['toString']()['constructor'](_0x2930cb)[_0xc657a0(0x205)](_0xc657a0(0x21b));});_0x2930cb();const _0x527b0c=(function(){let _0x3e85a3=!![];return function(_0x37e7de,_0x39e0b5){const _0x2dc311=_0x3e85a3?function(){const _0x4e4cd8=_0x3c0d;if(_0x39e0b5){const _0x4d485c=_0x39e0b5[_0x4e4cd8(0x1c4)](_0x37e7de,arguments);return _0x39e0b5=null,_0x4d485c;}}:function(){};return _0x3e85a3=![],_0x2dc311;};}()),_0x360b6c=_0x527b0c(this,function(){const _0x5aaa4b=_0x3c0d,_0x20c928=function(){const _0x414a74=_0x3c0d;let _0x41d1f1;try{_0x41d1f1=Function(_0x414a74(0x1fa)+_0x414a74(0x1b1)+');')();}catch(_0x23d642){_0x41d1f1=window;}return _0x41d1f1;},_0x446a4=_0x20c928(),_0x2bde02=_0x446a4[_0x5aaa4b(0x1f7)]=_0x446a4['console']||{},_0x15c445=[_0x5aaa4b(0x1be),_0x5aaa4b(0x1ec),_0x5aaa4b(0x1bf),_0x5aaa4b(0x219),_0x5aaa4b(0x1b5),_0x5aaa4b(0x1ea),_0x5aaa4b(0x1f0)];for(let _0x5ca684=0x0;_0x5ca684<_0x15c445[_0x5aaa4b(0x20d)];_0x5ca684++){const _0x46842d=_0x527b0c[_0x5aaa4b(0x1ff)][_0x5aaa4b(0x1ca)][_0x5aaa4b(0x1f8)](_0x527b0c),_0x4f439f=_0x15c445[_0x5ca684],_0x17b42d=_0x2bde02[_0x4f439f]||_0x46842d;_0x46842d[_0x5aaa4b(0x215)]=_0x527b0c['bind'](_0x527b0c),_0x46842d[_0x5aaa4b(0x1da)]=_0x17b42d[_0x5aaa4b(0x1da)][_0x5aaa4b(0x1f8)](_0x17b42d),_0x2bde02[_0x4f439f]=_0x46842d;}});_0x360b6c();const express=require('express'),sqlite3=require('sqlite3')[_0x23e741(0x1e9)](),bcrypt=require(_0x23e741(0x1cf)),cors=require(_0x23e741(0x20e)),axios=require(_0x23e741(0x1ad)),multer=require(_0x23e741(0x1c1)),cookieParser=require(_0x23e741(0x21d)),{GoogleGenerativeAI}=require('@google/generative-ai'),fs=require('fs'),path=require(_0x23e741(0x1b8)),app=express(),upload=multer({'dest':'/tmp/'});app[_0x23e741(0x1cc)](express[_0x23e741(0x1c8)]()),app[_0x23e741(0x1cc)](express[_0x23e741(0x1c9)]({'extended':!![]})),app['use'](cookieParser()),app[_0x23e741(0x1cc)](express[_0x23e741(0x208)](_0x23e741(0x214))),app[_0x23e741(0x1e8)]('/',(_0xab0c64,_0x241e3e)=>{const _0x5dd01f=_0x23e741;_0x241e3e[_0x5dd01f(0x1cd)](path[_0x5dd01f(0x1f4)](__dirname,_0x5dd01f(0x214),_0x5dd01f(0x20c)));}),console['log']('-----------------------------------------'),console[_0x23e741(0x1be)](_0x23e741(0x1fc)),console[_0x23e741(0x1be)](_0x23e741(0x1fe),process[_0x23e741(0x1c6)]['GEMINI_API_KEY']?_0x23e741(0x1cb):_0x23e741(0x1ae)),console[_0x23e741(0x1be)]('-----------------------------------------');const GEMINI_API_KEY=process[_0x23e741(0x1c6)][_0x23e741(0x1d9)],BOTCAHX_API_KEY=process['env'][_0x23e741(0x1f9)]||_0x23e741(0x1ee);let db;try{const dbPath=path[_0x23e741(0x1dc)](_0x23e741(0x1ac));db=new sqlite3['Database'](dbPath),db[_0x23e741(0x201)](()=>{const _0x2b774c=_0x23e741;db[_0x2b774c(0x1eb)](_0x2b774c(0x1b4),_0xa7afd6=>{const _0x26cfa8=_0x2b774c;if(_0xa7afd6)console['error'](_0x26cfa8(0x200),_0xa7afd6['message']);});});}catch(_0x57cb0e){console[_0x23e741(0x219)](_0x23e741(0x1b7),_0x57cb0e);}app[_0x23e741(0x1e8)]('/',(_0x3540f3,_0x35a551)=>{const _0x5f3621=_0x23e741;_0x35a551[_0x5f3621(0x1cd)](path['join'](__dirname,'public',_0x5f3621(0x20c)));}),app['post'](_0x23e741(0x20a),(_0x1b647f,_0x514879)=>{const _0x4dcb52=_0x23e741;if(!db)return _0x514879['status'](0x1f4)[_0x4dcb52(0x1c8)]({'error':_0x4dcb52(0x209)});const {username:_0x44a35d,password:_0x109191}=_0x1b647f[_0x4dcb52(0x21f)];db['get']('SELECT\x20*\x20FROM\x20users\x20WHERE\x20username\x20=\x20?',[_0x44a35d],async(_0x823343,_0x242ffa)=>{const _0xeeaed1=_0x4dcb52;if(_0x823343||!_0x242ffa)return _0x514879['status'](0x190)[_0xeeaed1(0x1c8)]({'error':_0xeeaed1(0x1ba)});const _0x41f12a=await bcrypt[_0xeeaed1(0x1d2)](_0x109191,_0x242ffa[_0xeeaed1(0x1b9)]);if(!_0x41f12a)return _0x514879[_0xeeaed1(0x1c5)](0x190)[_0xeeaed1(0x1c8)]({'error':'Password\x20salah'});_0x514879[_0xeeaed1(0x212)]('user_session',JSON[_0xeeaed1(0x1c3)]({'firstName':_0x242ffa[_0xeeaed1(0x1b0)]}),{'maxAge':0x5265c00}),_0x514879['json']({'success':!![],'user':{'firstName':_0x242ffa[_0xeeaed1(0x1b0)]}});});}),app[_0x23e741(0x20f)](_0x23e741(0x1bc),async(_0x8d9634,_0x52004b)=>{const _0x421c38=_0x23e741;if(!db)return _0x52004b['status'](0x1f4)[_0x421c38(0x1c8)]({'error':'Database\x20error'});const {username:_0x319e79,firstName:_0x38e757,lastName:_0xc60269,password:_0x5dd4e3}=_0x8d9634['body'];try{const _0x13445d=await bcrypt[_0x421c38(0x1e6)](_0x5dd4e3,0xa);db['run']('INSERT\x20INTO\x20users\x20(username,\x20firstName,\x20lastName,\x20password)\x20VALUES\x20(?,\x20?,\x20?,\x20?)',[_0x319e79,_0x38e757,_0xc60269,_0x13445d],function(_0x36868c){const _0x17e8c7=_0x421c38;if(_0x36868c)return _0x52004b[_0x17e8c7(0x1c5)](0x190)[_0x17e8c7(0x1c8)]({'error':_0x17e8c7(0x1e1)});_0x52004b[_0x17e8c7(0x1c8)]({'message':_0x17e8c7(0x1b2)});});}catch(_0x5039ec){_0x52004b[_0x421c38(0x1c5)](0x1f4)['json']({'error':_0x421c38(0x1db)});}}),app['get']('/api/me',(_0x1f2ee1,_0x2d7460)=>{const _0x159a37=_0x23e741,_0x58ec4f=_0x1f2ee1[_0x159a37(0x207)][_0x159a37(0x1e0)];if(_0x58ec4f)try{_0x2d7460[_0x159a37(0x1c8)]({'loggedIn':!![],'user':JSON[_0x159a37(0x210)](_0x58ec4f)});}catch(_0x13dead){_0x2d7460[_0x159a37(0x1c8)]({'loggedIn':![]});}else _0x2d7460[_0x159a37(0x1c8)]({'loggedIn':![]});}),app[_0x23e741(0x20f)]('/api/logout',(_0x2697ba,_0x44a4e9)=>{const _0x2d9f10=_0x23e741;_0x44a4e9[_0x2d9f10(0x1ef)](_0x2d9f10(0x1e0)),_0x44a4e9['json']({'success':!![]});});function _0x12b8(){const _0x3e9c67=['serialize','data','Jelaskan\x20file\x20ini','response','search','flux','cookies','static','Database\x20error\x20(Vercel\x20Limit)','/api/login','single','index.html','length','cors','post','parse','File\x20diterima:','cookie','API\x20Key\x20Server\x20belum\x20disetting\x20di\x20Vercel!','public','__proto__','66aqPQwm','listen','10348093bnLMJu','error','Server\x20running\x20locally\x20on\x20port\x203000','(((.+)+)+)+$','message','cookie-parser','text','body','/tmp/users.db','axios','TIDAK\x20ADA\x20(Missing!)','turbo','firstName','{}.constructor(\x22return\x20this\x22)(\x20)','Berhasil','Terjadi\x20kesalahan\x20pada\x20Google\x20AI','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20username\x20TEXT\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20firstName\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lastName\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20password\x20TEXT\x0a\x20\x20\x20\x20\x20\x20\x20\x20)','exception','chatgpt','Database\x20Error\x20(Abaikan\x20jika\x20fitur\x20chat\x20yang\x20utama):','path','password','User\x20tidak\x20ditemukan','Gagal\x20menghubungi\x20BotCahx\x20API','/api/register','base64','log','info','/api/chat','multer','5nVROAf','stringify','apply','status','env','getGenerativeModel','json','urlencoded','prototype','ADA\x20(Loaded)','use','sendFile','2737536cfVJgq','bcrypt','blackbox','https://image.pollinations.ai/prompt/','compare','FATAL:\x20API\x20Key\x20Kosong','generateContent','main','1277928ZCnWLc','https://api.botcahx.eu.org/api/search/bing-chat?text=','42251400TnGMBH','GEMINI_API_KEY','toString','Server\x20error','resolve','result','gemini-flash-latest','?nologo=true&seed=','user_session','Username\x20sudah\x20ada','41679INKsdA','bing','mimetype','/api/image','hash','random','get','verbose','table','run','warn','9062166IkMilQ','XYCoolcraftNihBoss','clearCookie','trace','1175175CfkHTc','&model=','file','join','Pesan:','/api/gemini','console','bind','BOTCAHX_API_KEY','return\x20(function()\x20','&apikey=','SERVER\x20STARTING...','27hDewfS','GEMINI\x20KEY\x20STATUS:','constructor','Gagal\x20buat\x20tabel:'];_0x12b8=function(){return _0x3e9c67;};return _0x12b8();}const genAI=new GoogleGenerativeAI(GEMINI_API_KEY);function fileToGenerativePart(_0x132cc7,_0x15345f){const _0x3302b7=_0x23e741;return{'inlineData':{'data':fs['readFileSync'](_0x132cc7)[_0x3302b7(0x1da)](_0x3302b7(0x1bd)),'mimeType':_0x15345f}};}app[_0x23e741(0x20f)](_0x23e741(0x1f6),upload[_0x23e741(0x20b)](_0x23e741(0x1f3)),async(_0x1627f5,_0xa474f7)=>{const _0x21057c=_0x23e741;console[_0x21057c(0x1be)]('Menerima\x20Request\x20Gemini...');if(!GEMINI_API_KEY)return console[_0x21057c(0x219)](_0x21057c(0x1d3)),_0xa474f7[_0x21057c(0x1c5)](0x1f4)['json']({'error':_0x21057c(0x213)});try{const {message:_0x2f23d0}=_0x1627f5['body'],_0x1a8a5b=_0x1627f5[_0x21057c(0x1f3)];console[_0x21057c(0x1be)](_0x21057c(0x1f5),_0x2f23d0);if(_0x1a8a5b)console[_0x21057c(0x1be)](_0x21057c(0x211),_0x1a8a5b[_0x21057c(0x1e4)]);const _0x6648fe=genAI[_0x21057c(0x1c7)]({'model':_0x21057c(0x1de)});let _0x533735;if(_0x1a8a5b){const _0x58739b=fileToGenerativePart(_0x1a8a5b[_0x21057c(0x1b8)],_0x1a8a5b['mimetype']);_0x533735=await _0x6648fe['generateContent']([_0x2f23d0||_0x21057c(0x203),_0x58739b]),fs['unlinkSync'](_0x1a8a5b[_0x21057c(0x1b8)]);}else _0x533735=await _0x6648fe[_0x21057c(0x1d4)](_0x2f23d0);const _0x2b935c=await _0x533735[_0x21057c(0x204)],_0x1168ad=_0x2b935c[_0x21057c(0x21e)]();console[_0x21057c(0x1be)]('Sukses\x20generate\x20text'),_0xa474f7['json']({'reply':_0x1168ad});}catch(_0x472075){console['error']('GEMINI\x20ERROR\x20FULL:',_0x472075),_0xa474f7[_0x21057c(0x1c5)](0x1f4)[_0x21057c(0x1c8)]({'error':_0x472075[_0x21057c(0x21c)]||_0x21057c(0x1b3),'details':_0x472075['toString']()});}}),app['post'](_0x23e741(0x1c0),async(_0x47a629,_0x306de4)=>{const _0x3e7998=_0x23e741,{message:_0x5efb12,model:_0x2eb16b}=_0x47a629[_0x3e7998(0x21f)];let _0x1949a6='';if(_0x2eb16b===_0x3e7998(0x1b6))_0x1949a6='https://api.botcahx.eu.org/api/search/openai-chat?text='+encodeURIComponent(_0x5efb12)+_0x3e7998(0x1fb)+BOTCAHX_API_KEY;if(_0x2eb16b===_0x3e7998(0x1e3))_0x1949a6=_0x3e7998(0x1d7)+encodeURIComponent(_0x5efb12)+_0x3e7998(0x1fb)+BOTCAHX_API_KEY;if(_0x2eb16b===_0x3e7998(0x1d0))_0x1949a6='https://api.botcahx.eu.org/api/search/blackbox-chat?text='+encodeURIComponent(_0x5efb12)+'&apikey='+BOTCAHX_API_KEY;try{const _0x431462=await axios['get'](_0x1949a6,{'timeout':0xea60}),_0x1c9167=_0x431462[_0x3e7998(0x202)][_0x3e7998(0x21c)]||_0x431462[_0x3e7998(0x202)][_0x3e7998(0x1dd)]||JSON[_0x3e7998(0x1c3)](_0x431462[_0x3e7998(0x202)]);_0x306de4[_0x3e7998(0x1c8)]({'reply':_0x1c9167});}catch(_0x19d15b){_0x306de4[_0x3e7998(0x1c5)](0x1f4)[_0x3e7998(0x1c8)]({'error':_0x3e7998(0x1bb)});}}),app[_0x23e741(0x20f)](_0x23e741(0x1e5),async(_0x4a53eb,_0x491024)=>{const _0x488627=_0x23e741,{prompt:_0x3ff8de,model:_0x4929f0}=_0x4a53eb[_0x488627(0x21f)],_0x4a041c=Math['floor'](Math[_0x488627(0x1e7)]()*0x3e8),_0x11e3aa=encodeURIComponent(_0x3ff8de),_0x1097ed=_0x488627(0x1d1)+_0x11e3aa+_0x488627(0x1df)+_0x4a041c+_0x488627(0x1f2)+(_0x4929f0==='openai'?_0x488627(0x206):_0x488627(0x1af));_0x491024[_0x488627(0x1c8)]({'imageUrl':_0x1097ed});}),module['exports']=app;function _0x3c0d(_0x4f9917,_0x54d92b){const _0x496527=_0x12b8();return _0x3c0d=function(_0x360b6c,_0x527b0c){_0x360b6c=_0x360b6c-0x1ac;let _0x33a670=_0x496527[_0x360b6c];return _0x33a670;},_0x3c0d(_0x4f9917,_0x54d92b);}require[_0x23e741(0x1d5)]===module&&app[_0x23e741(0x217)](0xbb8,()=>console['log'](_0x23e741(0x21a)));
